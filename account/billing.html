<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/png" href="../favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="../favicon/favicon.svg" />
    <link rel="shortcut icon" href="../favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="../favicon/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="Covenant" />
    <link rel="manifest" href="../favicon/site.webmanifest" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Covenant - Billing</title>
    <link rel="stylesheet" href="shared-nav.css">
    <link rel="stylesheet" href="shared-tables.css">
    <script src="api-client.js"></script>
    <script src="billing.js" defer></script>
    <style>
        /* Page-specific styles for billing */
        .content-container {
            width: 100%;
        }

        h1 { font-size: 28px; font-weight: 600; margin-bottom: 5px; }
        .page-subtitle { color: var(--text-muted); font-size: 14px; margin-bottom: 35px; }

        /* Billing Grid */
        .billing-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-bottom: 50px;
        }

        .info-card {
            background-color: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 4px;
            padding: 20px 24px;
            min-height: 140px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .card-top-row {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 10px;
        }

        .card-label { font-size: 12px; color: var(--text-muted); font-weight: 500; }

        .big-amount {
            font-size: 32px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .btn-card {
            background: transparent;
            border: 1px solid #333;
            color: white;
            padding: 6px 16px;
            font-size: 11px;
            font-weight: 600;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        .btn-card:hover { background: #222; }

        .card-detail-text {
            font-size: 13px;
            line-height: 1.5;
            color: #ddd;
        }
        .text-sub { color: var(--text-muted); margin-top: 4px; font-size: 12px; }

        .icon-info {
            width: 16px;
            height: 16px;
            stroke: #666;
            cursor: pointer;
        }
        .icon-info:hover { stroke: white; }

        /* Invoices Section */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .section-title { font-size: 18px; font-weight: 600; }

        .search-filter-row {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
        }

        .search-input-container {
            flex: 1;
            position: relative;
        }

        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            width: 16px;
            height: 16px;
            stroke: #666;
        }

        .search-input {
            width: 100%;
            background: transparent;
            border: 1px solid var(--card-border);
            padding: 10px 10px 10px 40px;
            border-radius: 4px;
            color: white;
            font-size: 13px;
            font-family: var(--font-stack);
        }
        .search-input:focus { outline: none; border-color: #555; }

        .filter-btn {
            width: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            border: 1px solid var(--card-border);
            border-radius: 4px;
            background: transparent;
            cursor: pointer;
        }
        .filter-btn svg { stroke: #888; width: 18px; height: 18px; }
        .filter-btn:hover { background: #111; }

        /* Table - Page-specific grid layouts */
        .table-header {
            display: grid;
            grid-template-columns: 1fr 1fr 1.2fr 2.5fr 0.8fr 1.2fr 1.2fr 0.8fr 40px;
        }

        .table-row {
            display: grid;
            grid-template-columns: 1fr 1fr 1.2fr 2.5fr 0.8fr 1.2fr 1.2fr 0.8fr 40px;
        }

        .download-icon {
            opacity: 0.6;
            cursor: pointer;
            width: 16px;
            height: 16px;
        }
        .download-icon:hover { opacity: 1; }

        /* Filter Modal */
        .filter-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .filter-modal.show {
            display: flex;
        }

        .filter-modal-content {
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .filter-group {
            margin-bottom: 25px;
        }

        .filter-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: white;
            margin-bottom: 10px;
        }

        .filter-select {
            width: 100%;
            background: transparent;
            border: 1px solid var(--card-border);
            color: white;
            padding: 12px 15px;
            border-radius: 4px;
            font-size: 14px;
            font-family: var(--font-stack);
            cursor: pointer;
        }

        .filter-select:focus {
            outline: none;
            border-color: #555;
        }

        .filter-actions {
            display: flex;
            gap: 10px;
            margin-top: 30px;
        }

        .btn-reset {
            flex: 1;
            background: transparent;
            border: 1px solid #555;
            color: white;
            padding: 12px 20px;
            font-size: 14px;
            font-weight: 600;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .btn-reset:hover {
            background: #222;
        }

        .btn-apply {
            flex: 1;
            background: white;
            border: none;
            color: black;
            padding: 12px 20px;
            font-size: 14px;
            font-weight: 600;
            border-radius: 4px;
            cursor: pointer;
            transition: opacity 0.2s;
        }

        .btn-apply:hover {
            opacity: 0.9;
        }

        /* Payment Method Modal */
        .payment-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 3000;
            align-items: center;
            justify-content: center;
        }

        .payment-modal.show {
            display: flex;
        }

        .payment-modal-content {
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 35px 40px;
            width: 90%;
            max-width: 650px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .payment-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .payment-modal-title {
            font-size: 24px;
            font-weight: 600;
            color: white;
            margin: 0;
        }

        .payment-modal-close {
            width: 24px;
            height: 24px;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.2s;
        }

        .payment-modal-close:hover {
            opacity: 1;
        }

        .payment-form-group {
            margin-bottom: 20px;
        }

        .payment-form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .payment-input {
            width: 100%;
            background: transparent;
            border: 1px solid #333;
            color: white;
            padding: 15px 18px;
            border-radius: 4px;
            font-size: 14px;
            font-family: var(--font-stack);
            transition: border-color 0.2s;
        }

        .payment-input::placeholder {
            color: #666;
        }

        .payment-input:focus {
            outline: none;
            border-color: #555;
        }

        .payment-modal-actions {
            display: flex;
            gap: 12px;
            margin-top: 30px;
            justify-content: flex-end;
        }

        .btn-cancel {
            background: transparent;
            border: 1px solid #555;
            color: white;
            padding: 12px 30px;
            font-size: 14px;
            font-weight: 600;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .btn-cancel:hover {
            background: #222;
        }

        .btn-save {
            background: white;
            border: none;
            color: black;
            padding: 12px 30px;
            font-size: 14px;
            font-weight: 600;
            border-radius: 4px;
            cursor: pointer;
            transition: opacity 0.2s;
        }

        .btn-save:hover {
            opacity: 0.9;
        }

        /* Billing Cycle Help Modal */
        .billing-help-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 3000;
            align-items: center;
            justify-content: center;
        }

        .billing-help-modal.show {
            display: flex;
        }

        .billing-help-content {
            background: #4a4a4a;
            border-radius: 8px;
            width: 90%;
            max-width: 700px;
            max-height: 85vh;
            color: white;
            display: flex;
            flex-direction: column;
        }

        .help-title {
            font-size: 22px;
            font-weight: 600;
            color: white;
            margin: 0;
            padding: 40px 40px 25px 40px;
            line-height: 1.4;
            flex-shrink: 0;
        }

        .help-content-scroll {
            overflow-y: auto;
            padding: 0 40px;
            flex: 1;
        }

        .help-section {
            margin-bottom: 25px;
        }

        .help-section p {
            font-size: 14px;
            line-height: 1.7;
            color: #e8e8e8;
            margin: 0 0 15px 0;
        }

        .help-subtitle {
            font-size: 16px;
            font-weight: 600;
            color: white;
            margin: 0 0 12px 0;
        }

        .help-list {
            margin: 12px 0;
            padding-left: 25px;
        }

        .help-list li {
            font-size: 14px;
            line-height: 1.7;
            color: #e8e8e8;
            margin-bottom: 8px;
        }

        .help-question {
            font-weight: 600;
            margin-bottom: 10px;
        }

        .help-actions {
            display: flex;
            justify-content: flex-end;
            padding: 25px 40px 40px 40px;
            flex-shrink: 0;
        }

        .btn-help-ok {
            background: white;
            border: none;
            color: black;
            padding: 10px 35px;
            font-size: 14px;
            font-weight: 600;
            border-radius: 4px;
            cursor: pointer;
            transition: opacity 0.2s;
        }

        .btn-help-ok:hover {
            opacity: 0.9;
        }

        /* Prevent body scroll when modal is open */
        body.modal-open {
            overflow: hidden;
        }

        /* Mobile */
        @media (max-width: 768px) {
            .billing-grid { grid-template-columns: 1fr; }
            .filter-modal-content {
                width: 95%;
                padding: 20px;
            }
            .payment-modal-content {
                width: 95%;
                padding: 25px;
            }
            .payment-form-row {
                grid-template-columns: 1fr;
                gap: 0;
            }
            .billing-help-content {
                width: 95%;
                max-height: 90vh;
            }
            .help-title {
                font-size: 18px;
                padding: 25px 25px 20px 25px;
            }
            .help-content-scroll {
                padding: 0 25px;
            }
            .help-actions {
                padding: 20px 25px 25px 25px;
            }
        }
    </style>
</head>
<body>

    <div class="bg-effect"></div>

    <aside>
        <div class="sidebar-close"></div>
        <a href="../index.html" class="sidebar-logo">COVENANT</a>
        <nav class="sidebar-nav">
            <a href="dashboard.html" class="nav-item">
                <svg viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                <span>Dashboard</span>
            </a>
            <a href="subscriptions.html" class="nav-item">
                <svg viewBox="0 0 24 24"><line x1="2" y1="2" x2="22" y2="22"></line><path d="M17 7A9 9 0 0 0 7 17"></path></svg>
                <span>Subscriptions</span>
            </a>
            <a href="orders.html" class="nav-item">
                <svg viewBox="0 0 24 24"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path></svg>
                <span>Orders</span>
            </a>
            <a href="billing.html" class="nav-item active">
                <svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
                <span>Billing</span>
            </a>
            <a href="devices.html" class="nav-item">
                <svg viewBox="0 0 24 24"><path d="M20.2 16.6L16 12.4a2.8 2.8 0 0 0-4 0l-2.4 2.4"></path><path d="M15 10l-1.4-1.4a2.8 2.8 0 0 0-4 0l-4.4 4.4a2 2 0 0 0 0 2.8l1.4 1.4"></path></svg>
                <span>Devices</span>
            </a>
            <a href="settings.html" class="nav-item">
                <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
                <span>Settings</span>
            </a>
        </nav>
    </aside>

    <div class="layout-wrapper">

        <header>
            <div class="mobile-logo">COVENANT</div>
            <nav class="header-nav">
                <a href="../index.html">Home</a>
                <a href="billing.html" class="active">Account</a>
            </nav>
            <div class="header-icons">
                <svg class="header-icon" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                    <path d="M9 20a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"></path>
                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                </svg>
                <div style="width: 30px; height: 30px; background: #444; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 10px; font-weight: bold;">ME</div>
                <div class="hamburger">
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>
        </header>

        <!-- Mobile Overlay -->
        <div class="mobile-overlay"></div>

        <main>
            <div class="content-container">
                <h1>Billing</h1>
                <p class="page-subtitle">Manage your invoices and payments.</p>

                <div class="billing-grid">
                    <div class="info-card">
                        <div class="card-top-row">
                            <span class="card-label">Balance Due</span>
                            <button class="btn-card">Pay</button>
                        </div>
                        <div class="big-amount">
                            MX$0.00
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#4caf50" stroke-width="2">
                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                <polyline points="22 4 12 14.01 9 11.01"></polyline>
                            </svg>
                        </div>
                    </div>

                    <div class="info-card">
                        <div class="card-top-row">
                            <span class="card-label">Available Credits</span>
                            <svg class="icon-info" onclick="openCreditsHelpModal()" viewBox="0 0 24 24" fill="none" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                        </div>
                    </div>

                    <div class="info-card">
                        <div class="card-top-row">
                            <span class="card-label">Billing Cycle</span>
                            <svg class="icon-info" onclick="openBillingHelpModal()" viewBox="0 0 24 24" fill="none" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                        </div>
                        <div class="card-detail-text">
                            Your billing period is October 27 - November 26.<br>
                            Payment due October 27.
                        </div>
                    </div>

                    <div class="info-card">
                        <div class="card-top-row">
                            <span class="card-label">Payment Method</span>
                            <button class="btn-card" onclick="openPaymentModal()">Edit</button>
                        </div>
                        <div class="card-detail-text">
                            Cristian Hernandez<br>
                            <span class="text-sub">MasterCard ending in 6985</span><br>
                            <span class="text-sub">Expires: 12/29</span>
                        </div>
                    </div>
                </div>

                <div class="section-header">
                    <h2 class="section-title">Invoices</h2>
                    <button class="btn-card">Preview Next Invoice</button>
                </div>

                <div class="search-filter-row">
                    <div class="search-input-container">
                        <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                        <input type="text" class="search-input" placeholder="Search by invoice number">
                    </div>
                    <button class="filter-btn">
                        <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line></svg>
                    </button>
                </div>

                <div class="table-container">
                    <div class="table-header">
                        <div>Date</div>
                        <div>Due Date</div>
                        <div>Description</div>
                        <div>Invoice Number</div>
                        <div>Method</div>
                        <div style="text-align:right; padding-right:10px;">Total</div>
                        <div style="text-align:right; padding-right:10px;">Balance Due</div>
                        <div style="text-align:center;">Status</div>
                        <div></div>
                    </div>

                    <div id="invoices-table-body">
                        <!-- Invoices will be loaded here via JavaScript -->
                    </div>

                    <div class="table-footer">
                        <div>
                            Rows per page:
                            <select onchange="changeRowsPerPage(this.value)" style="background: transparent; border: 1px solid #333; color: white; padding: 2px 5px; margin: 0 5px; border-radius: 3px; cursor: pointer;">
                                <option value="5">5</option>
                                <option value="10" selected>10</option>
                                <option value="20">20</option>
                                <option value="50">50</option>
                            </select>
                        </div>
                        <div class="pagination-controls">
                            <span>1-6 of 6</span>
                            <span class="page-arrow" onclick="previousPage()" style="cursor: pointer;">❮</span>
                            <span class="page-arrow" onclick="nextPage()" style="cursor: pointer;">❯</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <div class="footer-content">
                <div class="footer-links">
                    <a href="#">Privacy Policy</a>
                    <a href="#">Terms of Service</a>
                    <a href="#">Support</a>
                </div>
                <div class="footer-copyright">
                    © 2025 Covenant. All rights reserved.
                </div>
            </div>
        </footer>
    </div>

    <!-- Filter Modal -->
    <div id="filter-modal" class="filter-modal">
        <div class="filter-modal-content">
            <div class="filter-group">
                <label class="filter-label">Status</label>
                <select id="filter-status" class="filter-select">
                    <option value="all">All</option>
                    <option value="paid">Paid</option>
                    <option value="unpaid">Unpaid</option>
                </select>
            </div>

            <div class="filter-group">
                <label class="filter-label">Sort</label>
                <select id="filter-sort" class="filter-select">
                    <option value="invoice_date">Created Date</option>
                    <option value="total_amount">Total Amount</option>
                </select>
            </div>

            <div class="filter-actions">
                <button class="btn-reset" onclick="resetFilters()">Reset All Filters</button>
                <button class="btn-apply" onclick="applyFilters()">Apply</button>
            </div>
        </div>
    </div>

    <!-- Payment Method Modal -->
    <div id="payment-modal" class="payment-modal">
        <div class="payment-modal-content">
            <div class="payment-modal-header">
                <h2 class="payment-modal-title">Payment Method</h2>
                <svg class="payment-modal-close" onclick="closePaymentModal()" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </div>

            <form id="payment-form" onsubmit="savePaymentMethod(event)">
                <div class="payment-form-group">
                    <input type="text" id="card-name" class="payment-input" placeholder="Name (As it appears on card)" required>
                </div>

                <div class="payment-form-group">
                    <input type="text" id="card-rfc" class="payment-input" placeholder="CURP/RFC (Optional)">
                </div>

                <div class="payment-form-group">
                    <input type="text" id="card-number" class="payment-input" placeholder="Card Number" maxlength="19" required>
                </div>

                <div class="payment-form-row">
                    <div class="payment-form-group">
                        <input type="text" id="card-cvc" class="payment-input" placeholder="CVC" maxlength="4" required>
                    </div>
                    <div class="payment-form-group">
                        <input type="text" id="card-expiry" class="payment-input" placeholder="MM/YY" maxlength="5" required>
                    </div>
                </div>

                <div class="payment-form-group">
                    <input type="text" id="card-zip" class="payment-input" placeholder="Billing Zip / Postal Code" required>
                </div>

                <div class="payment-modal-actions">
                    <button type="button" class="btn-cancel" onclick="closePaymentModal()">Cancel</button>
                    <button type="submit" class="btn-save">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Billing Cycle Help Modal -->
    <div id="billing-help-modal" class="billing-help-modal">
        <div class="billing-help-content">
            <h2 class="help-title">How does the monthly service billing cycle work?</h2>

            <div class="help-content-scroll">
                <div class="help-section">
                    <p>The "Monthly Service Billing Cycle" refers to the one-month period for which you are billed. You can view your billing cycle and payment due date in the <strong>Billing</strong> tab of your Starlink account.</p>

                    <p>Your billing cycle begins on the day your Starlink kit is first activated. Once activated:</p>

                    <ul class="help-list">
                        <li>Your first invoice will appear in your account.</li>
                        <li>The payment method on file will be automatically charged.</li>
                        <li>If you don't activate within 30 days of shipment, your service will be automatically activated.</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h3 class="help-subtitle">Example:</h3>
                    <p>If you activate on June 28, your billing cycle will run June 28 – July 27.</p>
                    <ul class="help-list">
                        <li>You will be billed on June 28, and payment will also be due that day.</li>
                        <li>Your next cycle would be July 28 – August 27, with billing and payment due July 28.</li>
                    </ul>
                    <p>Billing cycles vary per user, so your dates may differ from the example.</p>
                </div>

                <div class="help-section">
                    <h3 class="help-subtitle">Important Notes:</h3>
                    <ul class="help-list">
                        <li>If you activate service on the 29th, 30th, or 31st, your billing date will adjust to the 28th.</li>
                        <li>Brazil only: The first invoice has a 7-day payment window from the invoice date. This applies to the first invoice only.</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h3 class="help-subtitle">FAQs:</h3>

                    <p class="help-question"><strong>When is payment due for my monthly subscription?</strong></p>
                    <p>Your automatic payment date is the first day of your billing cycle. Subscription payments will be automatically charged to the payment method on file on your Payment Due Date. For Mobile Money payments, you will need to log into your account each month on the Payment Due Date to complete your payment. Please note that billing date changes or delays are not supported.</p>

                    <p class="help-question"><strong>Am I able to preview my upcoming charges?</strong></p>
                    <p>You are able to preview your next monthly service invoice from your account at any time by clicking "Preview Next Invoice". The invoice preview will update each day of the month and will reflect all charges due as of that day, including any applicable overage data usage from your current cycle or recent changes to your service plan.</p>

                    <p class="help-question"><strong>What happens if my Starlink Kit is not delivered within 30 days from shipping?</strong></p>
                    <p>If you've received a notice that your billing cycle will begin soon and your Starlink Kit has not yet been delivered, your 30-day trial period will be automatically extended by an additional 30 days, and a one-month service credit will be applied to your account.</p>
                </div>

                <div class="help-section">
                    <p>Get Starlink email updates here.</p>
                </div>

                <div class="help-section">
                    <p class="help-question"><strong>Recommended Topics:</strong></p>
                    <p>How does billing work for business?</p>
                </div>
            </div>

            <div class="help-actions">
                <button class="btn-help-ok" onclick="closeBillingHelpModal()">OK</button>
            </div>
        </div>
    </div>

    <!-- Credits Help Modal -->
    <div id="credits-help-modal" class="billing-help-modal">
        <div class="billing-help-content">
            <h2 class="help-title">Billing - Credits</h2>

            <div class="help-content-scroll">
                <div class="help-section">
                    <p>Credits can have 3 types: generic, service, or hardware.</p>

                    <p>Credits are automatically applied to the next bill that appears in your account. For example, if your account had a pending bill at the time the service credit was added, then the service credit will not change the scheduled payment amount, and instead will be applied to your following bill.</p>

                    <p>If you believe a credit should have been included in your most recent bill, or the credit amount is incorrect, please create a support ticket and provide details about the issue. For Enterprise and Premium Business customers, if you believe a credit should apply to an existing invoice, please create a support ticket with the credit number and invoice number.</p>

                    <p>Credits can be viewed in your account by going to starlink.com/account/billing. The credit table is below the invoice table and will show the available balance and the total amount of the credit. There is also a summary of available credits below the account balance box in the upper left corner of the page.</p>

                    <p>Credits are non-refundable, non-transferable, and will not be reimbursed if you discontinue service.</p>
                </div>
            </div>

            <div class="help-actions">
                <button class="btn-help-ok" onclick="closeCreditsHelpModal()">OK</button>
            </div>
        </div>
    </div>

    <script>
        // Mobile menu toggle
        const hamburger = document.querySelector('.hamburger');
        const sidebar = document.querySelector('aside');
        const mobileOverlay = document.querySelector('.mobile-overlay');
        const sidebarClose = document.querySelector('.sidebar-close');

        hamburger.addEventListener('click', () => {
            hamburger.classList.toggle('active');
            sidebar.classList.toggle('mobile-open');
            mobileOverlay.classList.toggle('active');
        });

        // Close mobile menu when clicking close button
        sidebarClose.addEventListener('click', () => {
            hamburger.classList.remove('active');
            sidebar.classList.remove('mobile-open');
            mobileOverlay.classList.remove('active');
        });

        // Close mobile menu when clicking overlay
        mobileOverlay.addEventListener('click', () => {
            hamburger.classList.remove('active');
            sidebar.classList.remove('mobile-open');
            mobileOverlay.classList.remove('active');
        });

        // Close mobile menu when clicking a nav item
        const navItems = document.querySelectorAll('.nav-item');
        navItems.forEach(item => {
            item.addEventListener('click', () => {
                hamburger.classList.remove('active');
                sidebar.classList.remove('mobile-open');
                mobileOverlay.classList.remove('active');
            });
        });
    </script>
</body>
</html>